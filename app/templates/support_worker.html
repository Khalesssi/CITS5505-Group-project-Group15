{% extends "base.html" %}

{% block content %}
<!-- 分區容器開始 -->
<div class="flex min-h-screen">
  <aside class="w-64 bg-gray-100 p-6 border-r">
    <h2 class="text-xl font-bold mb-6">Support Worker</h2>
    <ul id="sidebarLinks" class="space-y-4 text-gray-700">
      <li><a href="#profile" class="sidebar-link text-indigo-700 font-semibold">Personal Information</a></li>
      <li><a href="#schedule" class="sidebar-link hover:underline">Today's Schedule</a></li>
      <li><a href="#daily-report" class="sidebar-link hover:underline">Daily Patient Report</a></li>
      <li><a href="#history" class="sidebar-link hover:underline">Report Record</a></li>
      <li><a href="#analysis" class="sidebar-link hover:underline">Data Analysis</a></li>
      <li><a href="#medical" class="sidebar-link hover:underline">Medical Instructions & Guardian Requirements</a></li>
      <li><a href="#weekly-overview" class="sidebar-link hover:underline">Weekly Overview (Optional)</a></li>
    </ul>
  </aside>

  <main class="flex-1 p-8">
<!-- 區塊開始：id="profile" -->
    <section id="profile" class="content-section space-y-6">
<!-- 分區容器開始 -->
      <div class="bg-white rounded-lg shadow p-6 relative hover:shadow-lg transition-shadow duration-300">
        <h3 class="text-xl font-bold mb-4">Personal Information</h3>
<!-- 分區容器開始 -->
        <div class="flex items-center gap-8 mb-6">
<!-- 分區容器開始 -->
          <div class="w-40 h-40">
            <img src="{{ url_for('static', filename='images/support_worker_avatar.jpg') }}" 
                 alt="Support Worker Photo" 
                 class="w-full h-full object-cover rounded-full border-4 border-indigo-500">
          </div>
<!-- 分區容器開始 -->
          <div class="grid grid-cols-1 gap-4">
<!-- 分區容器開始 -->
            <div>
              <p class="text-gray-600">Name: <span class="text-gray-800">William Smith</span></p>
              <p class="text-gray-600">Email: <span class="text-gray-800">support@example.com</span></p>
              <p class="text-gray-600">Phone: <span class="text-gray-800">0912-345-678</span></p>
            </div>
          </div>
          <p class="absolute bottom-0 right-0 p-6 text-xs text-gray-500">Account Created: 2024-03-15</p>
        </div>
      </div>

<!-- 分區容器開始 -->
      <div class="bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow duration-300">
        <h3 class="text-xl font-bold mb-4">Education</h3>
        <ul class="list-disc list-inside text-gray-600 space-y-2">
          <li>2018 - Bachelor of Nursing, Taipei Nursing University</li>
          <li>2020 - Care Worker Certificate</li>
        </ul>
      </div>

<!-- 分區容器開始 -->
      <div class="bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow duration-300">
        <h3 class="text-xl font-bold mb-4">Work Experience</h3>
        <ul class="list-disc list-inside text-gray-600 space-y-2">
          <li>2020-2022 Care Worker at Taipei Hospital</li>
          <li>2022-Present Home Care Worker</li>
        </ul>
      </div>
    </section>

<!-- 區塊開始：id="schedule" -->
    <section id="schedule" class="content-section hidden">
<!-- 分區容器開始 -->
      <div class="bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow duration-300">
        <h3 class="text-xl font-bold mb-4">Today's Schedule</h3>
<!-- 分區容器開始 -->
        <div class="flex gap-8">
<!-- 分區容器開始 -->
          <div class="w-48 h-48">
            <img src="{{ url_for('static', filename='images/patient_photo.jpg') }}" 
                 alt="Patient Photo" 
                 class="w-full h-full object-cover rounded-lg border-4 border-indigo-500">
          </div>
<!-- 分區容器開始 -->
          <div class="flex-1 space-y-4">
<!-- 分區容器開始 -->
            <div class="border-b pb-4">
              <h4 class="font-semibold mb-2">Basic Information</h4>
              <p class="text-gray-600">Patient Name: <span class="text-gray-800">Henry Lee</span></p>
              <p class="text-gray-600">Patient ID: <span class="text-gray-800">PT20240315001</span></p>
              <p class="text-gray-600">Health Insurance No.: <span class="text-gray-800">A123456789</span></p>
            </div>
          </div>
        </div>

<!-- 分區容器開始 -->
        <div class="mt-6 bg-gray-50 rounded-lg p-6 hover:shadow-lg transition-shadow duration-300">
          <h4 class="font-semibold mb-4">Today's Tasks</h4>
          <ul class="space-y-2">
            <li class="flex items-center gap-2">
              <span class="w-2 h-2 bg-green-500 rounded-full"></span>
              <span>9:00 AM - Medication Assistance</span>
            </li>
            <li class="flex items-center gap-2">
              <span class="w-2 h-2 bg-green-500 rounded-full"></span>
              <span>10:30 AM - Rehabilitation Exercise</span>
            </li>
            <li class="flex items-center gap-2">
              <span class="w-2 h-2 bg-green-500 rounded-full"></span>
              <span>2:00 PM - Vital Signs Check</span>
            </li>
          </ul>
        </div>
      </div>
    </section>

<!-- 區塊開始：id="daily-report" -->
    <section id="daily-report" class="content-section hidden">
<!-- 分區容器開始 -->
      <div class="max-w-5xl mx-auto bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow duration-300">
        <h3 class="text-xl font-bold mb-6">Daily Patient Report</h3>

<!-- 分區容器開始 -->
        <div class="grid grid-cols-2 gap-6 mb-8">
<!-- 分區容器開始 -->
          <div class="flex items-center">
            <span class="text-gray-700 font-medium min-w-32">Report Date:</span>
            <span class="text-gray-900">2024-03-15</span>
          </div>
<!-- 分區容器開始 -->
          <div class="flex items-center">
            <span class="text-gray-700 font-medium min-w-32">Patient Name:</span>
            <span class="text-gray-900">Henry Lee</span>
          </div>
        </div>

<!-- 分區容器開始 -->
        <div class="overflow-hidden rounded-lg border border-gray-200">
<!-- 分區容器開始 -->
          <div class="max-h-[800px] overflow-y-auto">
<!-- 表格開始 -->
            <table class="w-full border-collapse">
<!-- 表格欄位標題開始 -->
              <thead class="sticky top-0 bg-white">
<!-- 一列資料開始 -->
                <tr class="bg-gray-100">
<!-- 表頭欄位 -->
                  <th class="w-24 border-b border-gray-200 px-6 py-4 text-sm font-semibold text-gray-800 text-center">Question Number</th>
<!-- 表頭欄位 -->
                  <th class="max-w-xl border-b border-gray-200 px-6 py-4 text-sm font-semibold text-gray-800 text-left">Question</th>
<!-- 表頭欄位 -->
                  <th class="w-48 border-b border-gray-200 px-6 py-4 text-sm font-semibold text-gray-800 text-center">Answer</th>
                </tr>
              </thead>
<!-- 表格內容開始 -->
              <tbody>
<!-- 一列資料開始 -->
                <tr class="hover:bg-gray-50 transition-colors duration-150">
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-center text-gray-600">1</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-left font-medium text-gray-800 max-w-xl truncate">How is the patient's mental condition today?</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4">
                    <select class="w-full h-10 border rounded-md px-4 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                      <option value="" disabled selected>Please select</option>
                      <option>Poor</option>
                      <option>Average</option>
                      <option>Good</option>
                    </select>
                  </td>
                </tr>
<!-- 一列資料開始 -->
                <tr class="hover:bg-gray-50 transition-colors duration-150">
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-center text-gray-600">2</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-left font-medium text-gray-800 max-w-xl truncate">Did the patient take their medication on time?</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4">
                    <select class="w-full h-10 border rounded-md px-4 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                      <option value="" disabled selected>Please select</option>
                      <option>Yes</option>
                      <option>No</option>
                    </select>
                  </td>
                </tr>
<!-- 一列資料開始 -->
                <tr class="hover:bg-gray-50 transition-colors duration-150">
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-center text-gray-600">3</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-left font-medium text-gray-800 max-w-xl truncate">Food Consumption Score</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4">
                    <select class="w-full h-10 border rounded-md px-4 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                      <option value="" disabled selected>Please select</option>
                      <option>Poor</option>
                      <option>Average</option>
                      <option>Good</option>
                    </select>
                  </td>
                </tr>
<!-- 一列資料開始 -->
                <tr class="hover:bg-gray-50 transition-colors duration-150">
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-center text-gray-600">4</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-left font-medium text-gray-800 max-w-xl truncate">Did the patient complete today's rehabilitation activity?</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4">
                    <select class="w-full h-10 border rounded-md px-4 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                      <option value="" disabled selected>Please select</option>
                      <option>Yes</option>
                      <option>No</option>
                    </select>
                  </td>
                </tr>
<!-- 一列資料開始 -->
                <tr class="hover:bg-gray-50 transition-colors duration-150">
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-center text-gray-600">5</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-left font-medium text-gray-800 max-w-xl truncate">Sleep Quality Score</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4">
                    <select class="w-full h-10 border rounded-md px-4 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                      <option value="" disabled selected>Please select</option>
                      <option>Poor</option>
                      <option>Average</option>
                      <option>Good</option>
                    </select>
                  </td>
                </tr>
<!-- 一列資料開始 -->
                <tr class="hover:bg-gray-50 transition-colors duration-150">
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-center text-gray-600">6</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-left font-medium text-gray-800 max-w-xl truncate">Do you have any abnormal symptoms?</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4">
                    <select class="w-full h-10 border rounded-md px-4 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                      <option value="" disabled selected>Please select</option>
                      <option>Yes</option>
                      <option>No</option>
                    </select>
                  </td>
                </tr>
<!-- 一列資料開始 -->
                <tr class="hover:bg-gray-50 transition-colors duration-150">
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-center text-gray-600">7</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-left font-medium text-gray-800 max-w-xl truncate">Emotional Stability Score</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4">
                    <select class="w-full h-10 border rounded-md px-4 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                      <option value="" disabled selected>Please select</option>
                      <option>Poor</option>
                      <option>Average</option>
                      <option>Good</option>
                    </select>
                  </td>
                </tr>
<!-- 一列資料開始 -->
                <tr class="hover:bg-gray-50 transition-colors duration-150">
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-center text-gray-600">8</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-left font-medium text-gray-800 max-w-xl truncate">Did the patient follow the doctor's instructions?</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4">
                    <select class="w-full h-10 border rounded-md px-4 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                      <option value="" disabled selected>Please select</option>
                      <option>Yes</option>
                      <option>No</option>
                    </select>
                  </td>
                </tr>
<!-- 一列資料開始 -->
                <tr class="hover:bg-gray-50 transition-colors duration-150">
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-center text-gray-600">9</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-left font-medium text-gray-800 max-w-xl truncate">Activity Participation Score</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4">
                    <select class="w-full h-10 border rounded-md px-4 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                      <option value="" disabled selected>Please select</option>
                      <option>Poor</option>
                      <option>Average</option>
                      <option>Good</option>
                    </select>
                  </td>
                </tr>
<!-- 一列資料開始 -->
                <tr class="hover:bg-gray-50 transition-colors duration-150">
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-center text-gray-600">10</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-left font-medium text-gray-800 max-w-xl truncate">Do you have social interaction?</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4">
                    <select class="w-full h-10 border rounded-md px-4 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                      <option value="" disabled selected>Please select</option>
                      <option>Yes</option>
                      <option>No</option>
                    </select>
                  </td>
                </tr>
<!-- 一列資料開始 -->
                <tr class="hover:bg-gray-50 transition-colors duration-150">
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-center text-gray-600">11</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-left font-medium text-gray-800 max-w-xl truncate">Communication Expression Score</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4">
                    <select class="w-full h-10 border rounded-md px-4 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                      <option value="" disabled selected>Please select</option>
                      <option>Poor</option>
                      <option>Average</option>
                      <option>Good</option>
                    </select>
                  </td>
                </tr>
<!-- 一列資料開始 -->
                <tr class="hover:bg-gray-50 transition-colors duration-150">
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-center text-gray-600">12</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-left font-medium text-gray-800 max-w-xl truncate">Did the patient drink enough water?</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4">
                    <select class="w-full h-10 border rounded-md px-4 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                      <option value="" disabled selected>Please select</option>
                      <option>Yes</option>
                      <option>No</option>
                    </select>
                  </td>
                </tr>
<!-- 一列資料開始 -->
                <tr class="hover:bg-gray-50 transition-colors duration-150">
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-center text-gray-600">13</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-left font-medium text-gray-800 max-w-xl truncate">Personal Hygiene Score</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4">
                    <select class="w-full h-10 border rounded-md px-4 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                      <option value="" disabled selected>Please select</option>
                      <option>Poor</option>
                      <option>Average</option>
                      <option>Good</option>
                    </select>
                  </td>
                </tr>
<!-- 一列資料開始 -->
                <tr class="hover:bg-gray-50 transition-colors duration-150">
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-center text-gray-600">14</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-left font-medium text-gray-800 max-w-xl truncate">Do you have any pain or discomfort?</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4">
                    <select class="w-full h-10 border rounded-md px-4 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                      <option value="" disabled selected>Please select</option>
                      <option>Yes</option>
                      <option>No</option>
                    </select>
                  </td>
                </tr>
<!-- 一列資料開始 -->
                <tr class="hover:bg-gray-50 transition-colors duration-150">
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-center text-gray-600">15</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-left font-medium text-gray-800 max-w-xl truncate">Cognitive Ability Score</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4">
                    <select class="w-full h-10 border rounded-md px-4 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                      <option value="" disabled selected>Please select</option>
                      <option>Poor</option>
                      <option>Average</option>
                      <option>Good</option>
                    </select>
                  </td>
                </tr>
<!-- 一列資料開始 -->
                <tr class="hover:bg-gray-50 transition-colors duration-150">
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-center text-gray-600">16</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-left font-medium text-gray-800 max-w-xl truncate">Did the patient have a good interaction with family members?</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4">
                    <select class="w-full h-10 border rounded-md px-4 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                      <option value="" disabled selected>Please select</option>
                      <option>Yes</option>
                      <option>No</option>
                    </select>
                  </td>
                </tr>
<!-- 一列資料開始 -->
                <tr class="hover:bg-gray-50 transition-colors duration-150">
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-center text-gray-600">17</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-left font-medium text-gray-800 max-w-xl truncate">Exercise Compliance Score</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4">
                    <select class="w-full h-10 border rounded-md px-4 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                      <option value="" disabled selected>Please select</option>
                      <option>Poor</option>
                      <option>Average</option>
                      <option>Good</option>
                    </select>
                  </td>
                </tr>
<!-- 一列資料開始 -->
                <tr class="hover:bg-gray-50 transition-colors duration-150">
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-center text-gray-600">18</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-left font-medium text-gray-800 max-w-xl truncate">Environment Adaptation Score</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4">
                    <select class="w-full h-10 border rounded-md px-4 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                      <option value="" disabled selected>Please select</option>
                      <option>Poor</option>
                      <option>Average</option>
                      <option>Good</option>
                    </select>
                  </td>
                </tr>
<!-- 一列資料開始 -->
                <tr class="hover:bg-gray-50 transition-colors duration-150">
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-center text-gray-600">19</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-left font-medium text-gray-800 max-w-xl truncate">Self-care Ability Score</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4">
                    <select class="w-full h-10 border rounded-md px-4 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                      <option value="" disabled selected>Please select</option>
                      <option>Poor</option>
                      <option>Average</option>
                      <option>Good</option>
                    </select>
                  </td>
                </tr>
<!-- 一列資料開始 -->
                <tr class="hover:bg-gray-50 transition-colors duration-150">
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-center text-gray-600">20</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4 text-left font-medium text-gray-800 max-w-xl truncate">Treatment Compliance Score</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-6 py-4">
                    <select class="w-full h-10 border rounded-md px-4 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                      <option value="" disabled selected>Please select</option>
                      <option>Poor</option>
                      <option>Average</option>
                      <option>Good</option>
                    </select>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

<!-- 分區容器開始 -->
        <div class="mt-6 flex justify-end">
          <button class="bg-indigo-600 text-white px-6 py-2 rounded-md hover:bg-indigo-700 transition-colors">
            Submit Report
          </button>
        </div>
      </div>
    </section>

<!-- 區塊開始：id="history" -->
    <section id="history" class="content-section hidden">
<!-- 分區容器開始 -->
      <div class="max-w-5xl mx-auto bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow duration-300">
        <h3 class="text-xl font-bold mb-6">Report History</h3>
        
<!-- 分區容器開始 -->
        <div class="grid grid-cols-2 gap-6 mb-8">
<!-- 分區容器開始 -->
          <div class="bg-gray-50 rounded-lg p-4">
<!-- 分區容器開始 -->
            <div class="flex justify-between items-center mb-3">
              <span class="font-medium text-gray-700">Report Date:</span>
              <input type="date" 
                     id="reportDate"
                     class="border rounded-md px-3 py-1.5 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
            </div>
<!-- 分區容器開始 -->
            <div class="flex justify-between items-center">
              <span class="font-medium text-gray-700">Support Worker:</span>
              <span id="supportWorkerName" class="text-gray-900 font-medium">Chen Xiaoming</span>
            </div>
          </div>
<!-- 分區容器開始 -->
          <div class="bg-gray-50 rounded-lg p-4">
<!-- 分區容器開始 -->
            <div class="flex justify-between items-center">
              <span class="font-medium text-gray-700">Patient Name:</span>
              <select id="patientSelect" 
                      class="border rounded-md px-3 py-1.5 bg-white w-48 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                <option value="Henry Lee">Henry Lee</option>
                <option value="Zhang Xiaoming">Zhang Xiaoming</option>
                <option value="Wang Daoming">Wang Daoming</option>
              </select>
            </div>
          </div>
        </div>

<!-- 分區容器開始 -->
        <div class="overflow-hidden rounded-lg border border-gray-200">
<!-- 表格開始 -->
          <table class="w-full border-collapse">
<!-- 表格欄位標題開始 -->
            <thead>
<!-- 一列資料開始 -->
              <tr class="bg-gray-100">
<!-- 表頭欄位 -->
                <th class="w-12 border-b border-gray-200 px-4 py-3 text-sm font-semibold text-gray-800 text-center">Question Number</th>
<!-- 表頭欄位 -->
                <th class="border-b border-gray-200 px-4 py-3 text-sm font-semibold text-gray-800 text-left">Question</th>
<!-- 表頭欄位 -->
                <th class="w-48 border-b border-gray-200 px-4 py-3 text-sm font-semibold text-gray-800 text-center">Answer</th>
              </tr>
            </thead>
<!-- 表格內容開始 -->
            <tbody id="reportTableBody">
            </tbody>
          </table>
        </div>
      </div>
    </section>

<!-- 區塊開始：id="analysis" -->
    <section id="analysis" class="content-section hidden">
<!-- 分區容器開始 -->
      <div class="bg-white rounded-lg shadow p-6">
        <h3 class="text-xl font-semibold mb-6">Data Analysis</h3>
        
<!-- 分區容器開始 -->
        <div class="flex items-center gap-4 mb-6">
          <select id="chartMetric" class="border rounded-md px-4 py-2 text-sm">
            <option value="workHours">Weekly Work Hours</option>
            <option value="serviceScore">Weekly Service Score</option>
            <option value="patientCount">Weekly Service Patient Count</option>
          </select>
          <select id="supportWorkerSelect" class="border rounded-md px-4 py-2 text-sm">
            <option value="all">All Support Workers</option>
            <option value="Chen Xiaoming">Chen Xiaoming</option>
            <option value="Wang Xiaohua">Wang Xiaohua</option>
            <option value="Lin Meiling">Lin Meiling</option>
            <option value="Zhang Zhiming">Zhang Zhiming</option>
          </select>
        </div>

<!-- 分區容器開始 -->
        <div class="h-96 mb-8">
          <canvas id="supportWorkerChart"></canvas>
        </div>

<!-- 分區容器開始 -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
<!-- 分區容器開始 -->
          <div class="bg-blue-50 rounded-lg p-4">
            <h4 class="text-lg font-semibold text-blue-700 mb-2">Average Work Hours</h4>
            <p class="text-3xl font-bold text-blue-800">38.5 hours/week</p>
            <p class="text-sm text-blue-600 mt-1">Increased by 2.5 hours compared to last week</p>
          </div>
<!-- 分區容器開始 -->
          <div class="bg-green-50 rounded-lg p-4">
            <h4 class="text-lg font-semibold text-green-700 mb-2">Average Service Score</h4>
            <p class="text-3xl font-bold text-green-800">92.5 points</p>
            <p class="text-sm text-green-600 mt-1">Increased by 1.2 points compared to last week</p>
          </div>
<!-- 分區容器開始 -->
          <div class="bg-purple-50 rounded-lg p-4">
            <h4 class="text-lg font-semibold text-purple-700 mb-2">Average Service Patient Count</h4>
            <p class="text-3xl font-bold text-purple-800">4.2 people/week</p>
            <p class="text-sm text-purple-600 mt-1">Increased by 0.3 people compared to last week</p>
          </div>
        </div>
      </div>
    </section>

<!-- 區塊開始：id="medical" -->
    <section id="medical" class="content-section hidden">
<!-- 分區容器開始 -->
      <div class="bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow duration-300">
        <h3 class="text-xl font-bold mb-6">Medical Instructions & Guardian Requirements</h3>
        
<!-- 分區容器開始 -->
        <div class="mb-8">
          <h4 class="text-lg font-semibold mb-4">Medical Instructions</h4>
<!-- 分區容器開始 -->
          <div class="bg-yellow-50 p-4 rounded border-l-4 border-yellow-400">
            <ul class="space-y-2">
              <li class="flex items-start">
                <span class="text-yellow-600 mr-2">•</span>
                <span>Blood Pressure Medicine - Take twice a day, after meals</span>
              </li>
              <li class="flex items-start">
                <span class="text-yellow-600 mr-2">•</span>
                <span>Activity - Walk for 30 minutes daily, need someone to accompany</span>
              </li>
              <li class="flex items-start">
                <span class="text-yellow-600 mr-2">•</span>
                <span>Wound - Change dressing twice a day, pay attention to cleanliness</span>
              </li>
        </ul>
      </div>
        </div>

<!-- 分區容器開始 -->
      <div>
          <h4 class="text-lg font-semibold mb-4">Guardian Requirements</h4>
<!-- 分區容器開始 -->
          <div class="bg-blue-50 p-4 rounded border-l-4 border-blue-400">
            <p class="text-gray-700 mb-4">
              Special Notes:
            </p>
            <ul class="space-y-2">
              <li class="flex items-start">
                <span class="text-blue-600 mr-2">•</span>
                <span>Please pay special attention to the patient's eating habits, ensure timely meals and balanced nutrition</span>
              </li>
              <li class="flex items-start">
                <span class="text-blue-600 mr-2">•</span>
                <span>The patient likes classical music, suggest playing music during afternoon rest time</span>
              </li>
              <li class="flex items-start">
                <span class="text-blue-600 mr-2">•</span>
                <span>Need to assist the patient to perform simple stretching exercises regularly</span>
              </li>
        </ul>
      </div>
        </div>
      </div>
    </section>

<!-- 區塊開始：id="weekly-overview" -->
    <section id="weekly-overview" class="content-section hidden">
<!-- 分區容器開始 -->
      <div class="bg-white rounded-lg shadow p-6">
        <h3 class="text-xl font-bold mb-6">Weekly Overview</h3>
        
<!-- 分區容器開始 -->
        <div class="mb-6">
<!-- 分區容器開始 -->
          <div class="flex items-center gap-4">
            <button class="text-gray-500 hover:text-gray-700">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
              </svg>
            </button>
            <span class="text-lg font-medium">Week 2 of March 2024</span>
            <button class="text-gray-500 hover:text-gray-700">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </button>
          </div>
        </div>

<!-- 分區容器開始 -->
        <div class="grid grid-cols-3 gap-6 mb-8">
<!-- 分區容器開始 -->
          <div class="bg-green-50 p-4 rounded-lg hover:shadow-lg transition-shadow duration-300">
            <h4 class="text-sm text-green-600 font-medium mb-2">Completed Care Times</h4>
            <p class="text-2xl font-bold text-green-700">15 times</p>
            <p class="text-sm text-green-600 mt-1">Increased by 2 compared to last week</p>
          </div>
<!-- 分區容器開始 -->
          <div class="bg-blue-50 p-4 rounded-lg hover:shadow-lg transition-shadow duration-300">
            <h4 class="text-sm text-blue-600 font-medium mb-2">Total Care Hours</h4>
            <p class="text-2xl font-bold text-blue-700">32 hours</p>
            <p class="text-sm text-blue-600 mt-1">Increased by 4 compared to last week</p>
          </div>
<!-- 分區容器開始 -->
          <div class="bg-purple-50 p-4 rounded-lg hover:shadow-lg transition-shadow duration-300">
            <h4 class="text-sm text-purple-600 font-medium mb-2">Service Patient Count</h4>
            <p class="text-2xl font-bold text-purple-700">4 people</p>
            <p class="text-sm text-purple-600 mt-1">Increased by 1 compared to last week</p>
          </div>
        </div>

<!-- 分區容器開始 -->
        <div class="mb-8">
          <h4 class="text-lg font-semibold mb-4">Work Schedule</h4>
<!-- 分區容器開始 -->
          <div class="bg-gray-50 rounded-lg p-4 hover:shadow-lg transition-shadow duration-300">
<!-- 表格開始 -->
            <table class="w-full">
<!-- 表格欄位標題開始 -->
              <thead>
<!-- 一列資料開始 -->
                <tr class="text-gray-500 text-sm">
<!-- 表頭欄位 -->
                  <th class="py-2">Monday</th>
<!-- 表頭欄位 -->
                  <th class="py-2">Tuesday</th>
<!-- 表頭欄位 -->
                  <th class="py-2">Wednesday</th>
<!-- 表頭欄位 -->
                  <th class="py-2">Thursday</th>
<!-- 表頭欄位 -->
                  <th class="py-2">Friday</th>
<!-- 表頭欄位 -->
                  <th class="py-2">Saturday</th>
<!-- 表頭欄位 -->
                  <th class="py-2">Sunday</th>
                </tr>
              </thead>
<!-- 表格內容開始 -->
              <tbody>
<!-- 一列資料開始 -->
                <tr class="text-center">
<!-- 資料欄位 -->
                  <td class="p-2">
<!-- 分區容器開始 -->
                    <div class="bg-green-100 text-green-700 rounded p-2">
                      Morning Shift<br>2 times care
                    </div>
                  </td>
<!-- 資料欄位 -->
                  <td class="p-2">
<!-- 分區容器開始 -->
                    <div class="bg-yellow-100 text-yellow-700 rounded p-2">
                      Mid Shift<br>3 times care
                    </div>
                  </td>
<!-- 資料欄位 -->
                  <td class="p-2">
<!-- 分區容器開始 -->
                    <div class="bg-green-100 text-green-700 rounded p-2">
                      Morning Shift<br>2 times care
                    </div>
                  </td>
<!-- 資料欄位 -->
                  <td class="p-2">
<!-- 分區容器開始 -->
                    <div class="bg-red-100 text-red-700 rounded p-2">
                      Holiday
                    </div>
                  </td>
<!-- 資料欄位 -->
                  <td class="p-2">
<!-- 分區容器開始 -->
                    <div class="bg-yellow-100 text-yellow-700 rounded p-2">
                      Mid Shift<br>2 times care
                    </div>
                  </td>
<!-- 資料欄位 -->
                  <td class="p-2">
<!-- 分區容器開始 -->
                    <div class="bg-green-100 text-green-700 rounded p-2">
                      Morning Shift<br>3 times care
                    </div>
                  </td>
<!-- 資料欄位 -->
                  <td class="p-2">
<!-- 分區容器開始 -->
                    <div class="bg-red-100 text-red-700 rounded p-2">
                      Holiday
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

<!-- 分區容器開始 -->
      <div>
          <h4 class="text-lg font-semibold mb-4">Performance Analysis</h4>
<!-- 分區容器開始 -->
          <div class="grid grid-cols-2 gap-6">
<!-- 分區容器開始 -->
            <div class="bg-gray-50 p-4 rounded-lg hover:shadow-lg transition-shadow duration-300">
              <h5 class="text-sm font-medium text-gray-600 mb-3">Care Score Distribution</h5>
              <canvas id="weeklyRatingChart" class="w-full h-48"></canvas>
            </div>
<!-- 分區容器開始 -->
            <div class="bg-gray-50 p-4 rounded-lg hover:shadow-lg transition-shadow duration-300">
              <h5 class="text-sm font-medium text-gray-600 mb-3">Work Hours Distribution</h5>
              <canvas id="weeklyHoursChart" class="w-full h-48"></canvas>
            </div>
        </div>
      </div>
    </div>
    </section>

<!-- 區塊開始：id="user-list" -->
    <section id="user-list" class="content-section hidden">
<!-- 分區容器開始 -->
      <div class="bg-white rounded-lg shadow overflow-hidden mb-8">
<!-- 分區容器開始 -->
        <div class="p-6">
          <h3 class="text-xl font-semibold mb-4">User List</h3>
        </div>
      </div>

<!-- 分區容器開始 -->
      <div class="bg-white rounded-lg shadow p-6">
        <h3 class="text-xl font-semibold mb-6">Support Worker Weekly Data Chart</h3>
        
<!-- 分區容器開始 -->
        <div class="flex items-center gap-4 mb-6">
          <select id="chartMetric" class="border rounded-md px-4 py-2 text-sm">
            <option value="workHours">Weekly Work Hours</option>
            <option value="serviceScore">Weekly Service Score</option>
            <option value="patientCount">Weekly Service Patient Count</option>
          </select>
          <select id="supportWorkerSelect" class="border rounded-md px-4 py-2 text-sm">
            <option value="all">All Support Workers</option>
            <option value="Zhang Xiaohua">Zhang Xiaohua</option>
            <option value="Wang Xiaoming">Wang Xiaoming</option>
            <option value="Li Xiaofang">Li Xiaofang</option>
          </select>
        </div>

<!-- 分區容器開始 -->
        <div class="h-96">
          <canvas id="supportWorkerChart"></canvas>
        </div>
      </div>
    </section>
  </main>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  // 導航功能
  document.addEventListener('DOMContentLoaded', function () {
    const links = document.querySelectorAll('.sidebar-link');
    const sections = document.querySelectorAll('main section');

    links.forEach(link => {
      link.addEventListener('click', function (e) {
        e.preventDefault();
        const targetId = this.getAttribute('href').substring(1);

        sections.forEach(section => {
          section.classList.add('hidden');
          if (section.id === targetId) {
            section.classList.remove('hidden');
          }
        });

        links.forEach(l => l.classList.remove('text-indigo-700', 'font-semibold'));
        this.classList.add('text-indigo-700', 'font-semibold');
      });
    });
  });

  // 設置預設日期為今天
  document.addEventListener('DOMContentLoaded', function() {
    const today = new Date().toISOString().split('T')[0];
    document.querySelectorAll('input[type="date"]').forEach(input => {
      input.value = today;
    });
  });

  // 定義問題列表
  const questions = [
      "How is the patient's mental condition today?",
      "Did the patient take their medication on time?",
      "Food Consumption Score",
      "Did the patient complete today's rehabilitation activity?",
      "Sleep Quality Score",
      "Do you have any abnormal symptoms?",
      "Emotional Stability Score",
      "Did the patient follow the doctor's instructions?",
      "Activity Participation Score",
      "Do you have social interaction?"
  ];

  // 定義可用的 Support Worker 列表
  const supportWorkers = ["Chen Xiaoming", "Wang Xiaohua", "Lin Meiling", "Zhang Zhiming"];

  // 使用日期和病患名作為 key 來確保同一天同一個病患對應到同一個 Support Worker
  function getConsistentSupportWorker(date, patient) {
      const seed = date + patient;
      let hash = 0;
      for (let i = 0; i < seed.length; i++) {
          hash = ((hash << 5) - hash) + seed.charCodeAt(i);
          hash = hash & hash;
      }
      return supportWorkers[Math.abs(hash) % supportWorkers.length];
  }

  // 修改生成答案的部分
  function generateDailyAnswers(date, patient) {
      // 評分對應設定
      const ratings = {
          1: { text: "Poor", class: "text-red-500" },
          3: { text: "Average", class: "text-yellow-600" },
          5: { text: "Good", class: "text-green-600" }
      };

      // 生成評分答案
      function getRandomScore() {
          const scores = [1, 3, 5];
          const score = scores[Math.floor(Math.random() * 3)];
          return { 
              score: score.toString(),
              text: ratings[score].text,
              class: ratings[score].class
          };
      }

      return [
          // 精神狀況
          getRandomScore(),
          // 服藥
          formatYesNoAnswer(Math.random() < 0.7),
          // 進食狀況
          getRandomScore(),
          // 復健活動
          formatYesNoAnswer(Math.random() < 0.6),
          // 睡眠品質
          getRandomScore(),
          // 異常症狀
          formatYesNoAnswer(Math.random() > 0.8),
          // 情緒穩定
          getRandomScore(),
          // 遵醫囑
          formatYesNoAnswer(Math.random() < 0.75),
          // 活動參與
          getRandomScore(),
          // 社交互動
          formatYesNoAnswer(Math.random() < 0.65)
      ];
  }

  // 格式化是否答案
  function formatYesNoAnswer(isYes) {
      return { 
          score: isYes ? "Yes" : "No",
          text: isYes ? "Yes" : "No",
          class: isYes ? "text-green-600" : "text-red-500"
      };
  }

  // 生成 2025 年 4 月的所有日期資料
  const mockData = {
      "Henry Lee": {},
      "Zhang Xiaoming": {},
      "Wang Daoming": {}
  };

  // 生成所有日期的資料
  for (let day = 1; day <= 30; day++) {
      const date = `2025-04-${day.toString().padStart(2, '0')}`;
      
      ["Henry Lee", "Zhang Xiaoming", "Wang Daoming"].forEach(patient => {
          mockData[patient][date] = {
              supportWorker: getConsistentSupportWorker(date, patient),
              answers: generateDailyAnswers(date, patient)
          };
      });
  }

  // 更新表格內容的渲染函數
  function updateReport() {
      const date = document.querySelector('#reportDate').value;
      const patient = document.querySelector('#patientSelect').value;
      
      if (mockData[patient] && mockData[patient][date]) {
          const data = mockData[patient][date];
          
          // 更新 Support Worker
          document.querySelector('#supportWorkerName').textContent = data.supportWorker;
          
          // 更新表格內容
          const tbody = document.querySelector('#reportTableBody');
          tbody.innerHTML = '';
          
          questions.forEach((question, index) => {
              const answer = data.answers[index];
              const row = document.createElement('tr');
              row.className = 'hover:bg-gray-50 transition-colors duration-150';
              
              row.innerHTML = `
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-4 py-3 text-center text-gray-600">${index + 1}</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-4 py-3 text-left font-medium text-gray-800">${question}</td>
<!-- 資料欄位 -->
                  <td class="border-b border-gray-200 px-4 py-3">
<!-- 分區容器開始 -->
                      <div class="flex justify-center">
                          <span class="${answer.class} font-semibold">${answer.text}</span>
                      </div>
                  </td>
              `;
              
              tbody.appendChild(row);
          });
      } else {
          // 無資料時的顯示
          document.querySelector('#supportWorkerName').textContent = "No data";
          document.querySelector('#reportTableBody').innerHTML = `
<!-- 一列資料開始 -->
              <tr>
<!-- 資料欄位 -->
                  <td colspan="3" class="text-center py-6 text-gray-500 bg-gray-50">
                      No report record for this date
                  </td>
              </tr>
          `;
      }
  }

  // 初始化頁面
  document.addEventListener('DOMContentLoaded', function() {
      document.querySelector('#reportDate').value = '2025-04-14';
      updateReport();
  });

  // 監聽日期和病患選擇的變化
  document.querySelector('#reportDate').addEventListener('change', updateReport);
  document.querySelector('#patientSelect').addEventListener('change', updateReport);

  // 生成隨機數據
  function generateRandomData(min, max, count) {
    return Array.from({length: count}, () => 
      Math.floor(Math.random() * (max - min + 1)) + min
    );
  }

  // 週數標籤
  const weeks = ['Week 1', 'Week 2', 'Week 3', 'Week 4'];
  
  // 生成四個Support Worker的每週數據
  const supportWorkersData = {
    'Chen Xiaoming': {
      workHours: generateRandomData(35, 42, 4),
      serviceScore: generateRandomData(88, 95, 4),
      patientCount: generateRandomData(3, 5, 4),
      color: 'rgb(75, 192, 192)'
    },
    'Wang Xiaohua': {
      workHours: generateRandomData(32, 40, 4),
      serviceScore: generateRandomData(85, 92, 4),
      patientCount: generateRandomData(2, 4, 4),
      color: 'rgb(255, 99, 132)'
    },
    'Lin Meiling': {
      workHours: generateRandomData(38, 45, 4),
      serviceScore: generateRandomData(90, 98, 4),
      patientCount: generateRandomData(4, 6, 4),
      color: 'rgb(153, 102, 255)'
    },
    'Zhang Zhiming': {
      workHours: generateRandomData(33, 41, 4),
      serviceScore: generateRandomData(87, 94, 4),
      patientCount: generateRandomData(3, 5, 4),
      color: 'rgb(255, 159, 64)'
    }
  };

  // 圖表配置
  const chartConfig = {
    type: 'line',
    data: {
      labels: weeks,
      datasets: []
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          position: 'top',
        },
        title: {
          display: true,
          text: 'Support Worker Weekly Work Statistics'
        }
      },
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  };

  // 初始化圖表
  const ctx = document.getElementById('supportWorkerChart').getContext('2d');
  const chart = new Chart(ctx, chartConfig);

  // 更新圖表數據
  function updateChart(metric, selectedWorker) {
    const datasets = [];
    const metricLabels = {
      'workHours': 'Weekly Work Hours',
      'serviceScore': 'Weekly Service Score',
      'patientCount': 'Weekly Service Patient Count'
    };

    const yAxisLabels = {
      'workHours': 'Hours',
      'serviceScore': 'Score',
      'patientCount': 'People'
    };

    if (selectedWorker === 'all') {
      Object.entries(supportWorkersData).forEach(([name, data]) => {
        datasets.push({
          label: name,
          data: data[metric],
          borderColor: data.color,
          tension: 0.1,
          fill: false
        });
      });
    } else {
      const workerData = supportWorkersData[selectedWorker];
      datasets.push({
        label: selectedWorker,
        data: workerData[metric],
        borderColor: workerData.color,
        tension: 0.1,
        fill: false
      });
    }

    chart.data.datasets = datasets;
    chart.options.plugins.title.text = `Support Worker ${metricLabels[metric]} Statistics`;
    chart.options.scales.y.title = {
      display: true,
      text: yAxisLabels[metric]
    };
    chart.update();
  }

  // 監聽下拉選單變化
  document.getElementById('chartMetric').addEventListener('change', (e) => {
    const selectedWorker = document.getElementById('supportWorkerSelect').value;
    updateChart(e.target.value, selectedWorker);
  });

  document.getElementById('supportWorkerSelect').addEventListener('change', (e) => {
    const selectedMetric = document.getElementById('chartMetric').value;
    updateChart(selectedMetric, e.target.value);
  });

  // 初始化圖表顯示
  updateChart('workHours', 'all');
</script>
{% endblock %}