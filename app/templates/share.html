<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Share - RehabShare</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <style>
      .back-button {
        position: absolute;
        top: 20px;
        right: 20px;
        padding: 8px 16px;
        background-color: white;
        color: #6f42c1;
        border: 2px solid #6f42c1;
        border-radius: 25px;
        text-decoration: none;
        font-weight: 500;
      }
    </style>
    <script>
      function downloadCSV() {
        const data = JSON.parse(localStorage.getItem("rehabData")) || {};
        let csv = "Key,Value\n";
        for (let key in data) {
          csv += `${key},${data[key]}\n`;
        }
        const blob = new Blob([csv], { type: "text/csv" });
        const link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        link.download = "rehab_data.csv";
        link.click();
      }

      function downloadPDF() {
        const data = JSON.parse(localStorage.getItem("rehabData")) || {};
        const win = window.open("", "", "width=800,height=600");
        win.document.write("<h1>RehabShare - Shared Data</h1><pre>");
        win.document.write(JSON.stringify(data, null, 2));
        win.document.write("</pre>");
        win.document.close();
        win.print();
      }

      function filterByRole(role) {
        const fullData = JSON.parse(localStorage.getItem("rehabData")) || {};
        const filtered = { ...fullData };
        if (role === "guardian") {
          delete filtered.q20;
        } else if (role === "therapist") {
          delete filtered.q5;
        }
        document.getElementById("share-output").innerText = JSON.stringify(filtered, null, 2);
      }
    </script>
  </head>
  <body>
    <div class="hero-bg">
      <a href="intro.html" class="back-button">Back</a>
      <header class="container-fluid py-3 px-4">
        <nav class="navbar navbar-expand-lg mb-0 mb-lg-5">
          <a href="intro.html" class="navbar-brand">
            <img src="assets/img/logo.svg" alt="logo" />
          </a>
          <div class="collapse navbar-collapse">
            <ul class="navbar-nav navigation me-auto ms-auto mb-2 mb-lg-0">
              <li class="nav-item"><a class="nav-link" href="intro.html">Home</a></li>
              <li class="nav-item"><a class="nav-link" href="upload.html">Upload</a></li>
              <li class="nav-item"><a class="nav-link" href="visualise.html">Visualise</a></li>
              <li class="nav-item"><a class="nav-link active" href="share.html">Share</a></li>
            </ul>
          </div>
        </nav>
      </header>

      <main class="container py-5">
        <h2 class="text-center mb-4">Share Your Data</h2>

        <div class="mb-3">
          <label for="dataSelect" class="form-label">What data would you like to share?</label>
          <select id="dataSelect" class="form-select">
            <option value="">Select a dataset</option>
            <option>Emotional Score</option>
            <option>Daily Self-care</option>
            <option>Interaction Count</option>
            <option>Mood Evaluation</option>
            <option>Energy vs Mobility</option>
            <option>Training Records</option>
          </select>
        </div>

        <div class="mb-3">
          <label for="roleSelect" class="form-label">Who do you want to share this with?</label>
          <select id="roleSelect" class="form-select" onchange="filterByRole(this.value)">
            <option value="">Select a role</option>
            <option value="guardian">Guardian</option>
            <option value="therapist">Therapist</option>
            <option value="doctor">Doctor</option>
            <option value="support">Support Worker</option>
          </select>
        </div>

        <pre id="share-output" class="bg-light p-4 rounded" style="min-height: 200px">(Data will appear here)</pre>

        <div class="d-flex gap-3">
          <button class="btn btn-outline-primary" onclick="downloadCSV()">Export to CSV</button>
          <button class="btn btn-outline-danger" onclick="downloadPDF()">Export to PDF</button>
        </div>
      </main>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>

 <!---------- footer ------------>
 <footer class="footer">
  <div class="footer-wrapper m-auto">
    <div class="row gy-5 row-cols-1 row-cols-lg-2  flex-wrap justify-content-between">
      <div class="col col-md-5">
        <img class="footer-logo" src="assets/img/logo-footer.svg" alt="footer logo">
        <p class="footer-sub my-4 section-subhead">For individuals and care teams who value transparent collaboration, real-time data, and personalized rehabilitation support.</p>
        <div class="socials d-flex justify-content-between">
          <img src="assets/img/Facebook.svg" alt="Facebook logo">
          <img src="assets/img/twitter.svg" alt="twitter logo">
          <img src="assets/img/instagram.svg" alt="instagram logo">
          <img src="assets/img/linkedin.svg" alt="linkedin logo">
        </div>

        <p class="d-block d-md-none mt-3">Made with <i class="fa-solid fa-heart text-danger"></i> by RehabShare team</p>
      </div>
  
      <div class="col col-md-7 d-flex gy-5 flex-wrap justify-content-between row-cols-1 row-cols-md-2 row-cols-lg-3">
        <div class="col mb-5 mb-lg-0">
          <h5 class="mb-4 text-white section-heading">Usefull links</h5>
          <ul class="nav flex-column">
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0 ">Try free trial</a></li>
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0 ">Upload Daily Records</a></li>
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0 ">Visualise Progress</a></li>
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0 ">Share & Collaborate/a></li>
          </ul>
        </div>
    
      
  
        <div class="col">
          <h5 class="mb-4 text-white section-heading">About us</h5>
          <ul class="nav flex-column">
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0">What is RehabShare</a></li>
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0">Team of use</a></li>
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0">Contact us</a></li>
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0">Work with us</a></li>
          </ul>
        </div>
      </div>
      </div>

    <div class="d-flex section-subhead mt-3 mt-sm-5 pt-3 pt-sm-5 justify-content-center justify-content-md-between">
      <p class="d-none d-md-block">Made with <i class="fa-solid fa-heart text-danger"></i> by RehabShare team</p>
      <p class="text-center d-block">Copywrite Â© RehabShare, 2025</p>
      <span class="d-none d-md-block">Help center</span>
    </div>
  </div>
</footer>

<!-- Option 1: Bootstrap Bundle with Popper -->
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
  crossorigin="anonymous"
></script>

<!-- fontawesome -->
<script
  src="https://kit.fontawesome.com/aa08d20a7f.js"
  crossorigin="anonymous"
></script>
<script src="script.js"></script>
</body>
</html>
