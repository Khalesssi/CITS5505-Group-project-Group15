{% extends "base.html" %}

{% block title %}Home - Best Care{% endblock %}

{% block content %}
<!--Page 1 Section-->
<section id="home" class="h-screen">
    <div class="w-full h-full bg-cover bg-center flex items-center justify-start"
         style="background-image: url('/static/images/Backgroud.jpg');">

<!-- Content Part -->
<div id="hero-box" class="hero-box bg-gray-900 bg-opacity-50 text-white p-10 md:p-14 rounded-lg max-w-2xl w-full mx-6 md:mx-20">
  
  <div class="text-yellow-300 text-sm font-semibold tracking-wider uppercase mb-4">
    BEST CARE
  </div>

  <h1 class="text-yellow-100 text-5xl md:text-6xl font-serif font-bold leading-tight mb-6">
    Disability Care<br />Platform
  </h1>

  <p class="text-white text-lg leading-relaxed mb-8">
    We are committed to delivering the highest standard of disability care
    services throughout Western Australia.
  </p>

  <a href="/login">
    <button class="bg-yellow-400 text-black font-bold px-6 py-3 rounded-md hover:bg-yellow-500 transition">
      LEARN MORE
    </button>
  </a>

</section>

<!-- Chatbot Toggle Button -->
<button id="chatbot-toggle" class="fixed bottom-6 right-6 bg-indigo-600 text-white p-3 rounded-full shadow-lg hover:bg-indigo-700 z-50">
  ðŸ’¬
</button>

<!-- Chatbot Popup -->
<div id="chatbot-popup" class="fixed bottom-20 right-6 w-96 h-[500px] bg-white shadow-lg rounded-lg p-4 hidden z-50 flex flex-col">
  <div class="flex justify-between items-center mb-2">
    <h2 class="font-semibold text-lg">Chat with us</h2>
    <button id="chatbot-close" class="text-gray-500 hover:text-black">&times;</button>
  </div>

  <!-- Message Container -->
  <div id="chatbot-messages" class="flex-1 max-h-[400px] overflow-y-auto text-sm border rounded p-2 mb-2 bg-gray-50">
    <div class="text-gray-700">Welcome to Best Care! How can I help you today?</div>
  </div>

  <!-- Input -->
  <!-- <input type="text" id="chatbot-input" placeholder="Type a message..." class="w-full border rounded px-2 py-1 text-sm" /> -->
</div>



<!--Page 2 section-->
<section id="Home" class="min-h-screen bg-blue-50 flex items-center px-6 py-20">
    <div class="grid md:grid-cols-2 gap-12 max-w-6xl mx-auto">
      
      <!-- Right side text part -->
      <div class="flex flex-col justify-center">
        <h2 class="text-4xl font-serif font-bold text-gray-900 mb-6">
          How we support <br /> our clients
        </h2>
        <p class="text-lg text-gray-700 mb-6 leading-relaxed">
            Our clients' wellbeing is our highest priority. We maintain open, ongoing communication with the individuals and families we support, and are dedicated to meeting their daily needs with dignity, empathy, and respect. Our team is available around the clock to deliver personalised care services, ensuring every client receives the right support to live a safe, comfortable, and empowered life.
        </p>
        <button class="bg-yellow-400 text-black font-bold px-6 py-3 rounded-md hover:bg-yellow-500 w-fit">
          GET IN TOUCH
        </button>
      </div>
  
      <!-- Img in right side -->
      <div>
        <img src="../static/images/introduction img.jpg" alt="Support Worker" class="rounded-lg shadow-lg">
      </div>
  
    </div>
  </section>

  
<!--Page 3 About section-->

<section id="About" class="min-h-screen bg-blue-50 relative px-8 py-24">

    <!-- Title -->
    <h2 class="text-4xl font-serif font-bold text-gray-900 text-center mb-16">
      Our Core Services
    </h2>
  
    <!-- Card container -->
    <div class="max-w-6xl mx-auto flex flex-row justify-center space-x-6">

        <!-- Card 1 -->
        <div class="bg-blue-100 p-8 w-100 h-96 flex flex-col shadow-md">
          <h3 class="text-xl font-bold mb-20">Personal Care Support</h3>
          <p class="text-sm text-gray-700">
            We assist with daily living activities such as hygiene, grooming, and mobility â€” always with compassion and respect. Our carers are trained to promote independence while ensuring safety and dignity at every step.
          </p>
        </div>
      
        <!-- Card 2 -->
        <div class="bg-blue-200 p-8 w-100 h-96 flex flex-col shadow-md">
          <h3 class="text-xl font-bold mb-20">Community Participation</h3>
          <p class="text-sm text-gray-700">
            We help clients connect with their communities through tailored social, recreational, and educational activities. Whether itâ€™s joining a local group or simply getting out for a coffee, we support meaningful engagement.
          </p>
        </div>
      
        <!-- Card 3 -->
        <div class="bg-blue-300 p-8 w-100 h-96 flex flex-col shadow-md">
          <h3 class="text-xl font-bold mb-20">Household Assistance</h3>
          <p class="text-sm text-gray-700">
            From meal preparation to light housekeeping, our team ensures a clean, comfortable, and supportive home environment. We tailor all services to meet each clientâ€™s specific needs and preferences.
          </p>
        </div>
  
    </div>
  </section>

  <!-- <div class="pt-20"></div> -->

   <!-- Page 5 Upload section -->
   <section id="Upload" class="bg-blue-50 min-h-screen py-16 px-6 pt-32">
    <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
  
      <!-- img -->
      <div class="flex justify-center">
        <img src="../static/images/upload_page_img.jpg" alt="Disability" class="rounded-lg shadow-lg max-w-xl w-full h-auto">
      </div>
  
      <!-- Right part content -->
      <div>
        <h2 class="text-4xl font-serif font-bold text-gray-900 mb-6">Upload Services</h2>
        <p class="text-lg text-gray-700 mb-10 leading-relaxed">
          Our platform allows Support Workers and Therapists to upload important care and rehabilitation data directly to the system.
        Guardians can easily access and review this data to monitor the progress and care provided to their loved ones,
        ensuring transparency and continuous support throughout the rehabilitation journey.
        </p>
  
  
        </div>
      </div>
    </div>
  </section>

  <!-- Page 6 Visualise section -->
  <section id="Visualise" class="bg-blue-50 min-h-screen py-16 px-6 pt-32">
    <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
  
      <!-- img -->
      <div class="flex justify-center">
        <img src="../static/images/page3 img.jpg" alt="Disability" class="rounded-lg shadow-lg max-w-xl w-full h-auto">
      </div>
  
      <!-- Right part content -->
      <div>
        <h2 class="text-4xl font-serif font-bold text-gray-900 mb-6">Visualise Services</h2>
        <p class="text-lg text-gray-700 mb-10 leading-relaxed">
          Our platform provides an intuitive data visualisation feature that transforms uploaded records into clear, insightful charts and graphs. 
          This allows therapists to easily monitor trends, track progress, and make informed adjustments to their treatment plans, enhancing both efficiency and care outcomes.
        </p>
  
  
        </div>
      </div>
    </div>
  </section>

  <!-- Page 7 Share section -->
  <section id="Share" class="bg-blue-50 min-h-screen py-16 px-6 pt-32">
    <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
  
      <!-- img -->
      <div class="flex justify-center">
        <img src="../static/images/share_page_img.jpg" alt="Disability" class="rounded-lg shadow-lg max-w-xl w-full h-auto">
      </div>
  
      <!-- Right part content -->
      <div>
        <h2 class="text-4xl font-serif font-bold text-gray-900 mb-6">Share Services</h2>
        <p class="text-lg text-gray-700 mb-10 leading-relaxed">
          Our platform offers a secure data sharing feature that allows users to selectively share their information with trusted individuals, such as therapists, guardians, or support workers. If users choose not to share, all data remains private and accessible only to authorised personnel, ensuring full confidentiality and control over personal information.
        </p>
  
  
        </div>
      </div>
    </div>
  </section>



  
  <!-- <div class="pt-20"></div> -->
  <!--Page 8-->
  <section id="feedback" class="min-h-screen bg-cover bg-center bg-no-repeat bg-gray-900 bg-blend-overlay bg-opacity-70 py-20 px-6 pt-32"
     style="background-image: url('../static/images/Page\ 5\ background.jpg');">
     <div class="max-w-7xl mx-auto text-center text-white">

    <!-- Title -->
    <h2 class="text-4xl font-serif font-bold text-yellow-200 mb-4">Feedback from Clients</h2>
    <p class="text-lg text-yellow-100 mb-12">Why people trust and love using our platform.</p>

    <!-- Three card layout -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">

    <!-- Card 1 -->
    <div class="border border-yellow-300 p-6 min-h-[300px] flex flex-col justify-between text-left">
       <p class="mb-4">"This platform makes it so easy to keep track of my son's support needs. I can share updates with his therapist and carer in real time. It gives me peace of mind."</p>
       <p class="italic text-yellow-300">- Hannah Morales</p>
    </div>

    <!-- Card 2 -->
    <div class="border border-yellow-300 p-6 min-h-[300px] flex flex-col justify-between text-left">
       <p class="mb-4">"As a support worker, I've never used a system that's this clear and collaborative. Uploading notes and checking shared info has made our work so much more efficient."</p>
       <p class="italic text-yellow-300">- Teddy Yuhui, Disability Support Worker</p>
    </div>

    <!-- Card 3 -->
    <div class="border border-yellow-300 p-6 min-h-[300px] flex flex-col justify-between text-left">
       <p class="mb-4">"We finally have a place where the whole care team can stay in sync. Everyone's on the same page â€” and that's been a game changer for us."</p>
       <p class="italic text-yellow-300">- Lorna Alvarado, Occupational therapist</p>
    </div>

    </div>
    </div>
  
  </section>

  <script>
    const chatbotFlow = {
  start: {
    message: [
      "{{name}} Welcome to Best Care! This is the best support platform in Western Australia. Nice to meet you!",
      "{{name}} What can I help you today?"
    ],
    options: [
      { label: "I want to know more about Best Care", next: "know_more" },
      { label: "I want to join Best Care", next: "join" },
      { label: "I'm already a member of Best Care", next: "member" }
    ]
  },
  know_more: {
    message: ["What you want to know about Best Care?"],
    options: [
      { label: "I want to know about your service",
        next: "know_service"
      },
      { label: "Just browse this website", action: "close" }
    ]
  },
  know_service: {
  message: [
    "Best Care was established in April 2025. We are the top NDIS provider platform in Western Australia, with a professional team of Support Workers and Therapists.",
    "Our platform requires Support Workers to submit daily client data. The backend automatically visualizes this data to help therapists update support plans in a timely manner and continuously improve client outcomes."
  ],
  options: [
    { label: "I want to learn about the Upload feature", action: "redirect", "url": "/#Upload" },
    { label: "I want to learn about the Data Visualization feature", action: "redirect", url: "/#Visualise" },
    { label: "I want to learn about the Share feature", action: "redirect", url: "/#Share"}
    
  ]},

  join: {
    message: ["Why you want to Join Best Care?"],
    options: [
      { label: "I'm a support worker and looking for a new job opportunity", next: "join_worker" },
      { label: "I'm a NDIS therapist and looking for a new job opportunity", next: "join_worker" },
      { label: "I'm a guardian looking for a new NDIS provider.", next: "join_guardian" }
    ]
  },
  join_worker: {
    message: [
      "{{name}} You can click the Get Started button on the top of the navigation,",
      "or just click on the button below:"
    ],
    button: { text: "Get Started", url: "/register" }
  },
  join_guardian: {
    message: [
    "You can click the Get Started button on the top of the navigation,",
    "or just click on the button below to create a new account.",
    "If you don't know how Best Care works, we can contact you.",
    "Would you like to be contacted by email or SMS?"
  ],
   options: [
    {"label": "I want to use email","next": "collect_email"},
    {"label": "I want to use SMS","next": "collect_phone"}
  ]},
   collect_email: {
    "message": ["{{name}} Please enter your email address:"],
    "input": { "placeholder": "Enter your email", "next": "collect_name" }
},
  collect_phone: {
  "message": ["{{name}} Please enter your phone number:"],
  "input": { "placeholder": "Enter your phone number", "next": "collect_name" }
},
  collect_name: {
  "message": ["What do you want us to call you? Please leave your name in the texting place."],
  "input": { "placeholder": "Enter your name", "next": "thanks" }
},
  thanks: {
  "message": ["{{name}}, thank you for providing these information. Our staff will contact you soon."]
}

};

// Core Chatbot Functions
const bot = {
  state: "start",
  userData: {},
  container: document.getElementById("chatbot-messages"),

  showTyping(callback) {
    const bubble = document.createElement("div");
    bubble.textContent = "...";
    bubble.className = "text-gray-500 animate-pulse mb-1";
    bot.container.appendChild(bubble);
    bot.container.scrollTop = bot.container.scrollHeight;
    setTimeout(() => {
      bubble.remove();
      callback();
    }, 800);
  },

  printMessages(messages, cb) {
    if (!messages || messages.length === 0) return cb();
    const [first, ...rest] = messages;
    bot.showTyping(() => {
      const msg = document.createElement("div");
      msg.className = "text-gray-700 bg-gray-100 p-2 rounded mb-1";
      msg.textContent = first.includes("{{name}}")
        ? first.replace("{{name}}", bot.userData.name || "")
        : first;
      bot.container.appendChild(msg);
      bot.container.scrollTop = bot.container.scrollHeight;
      bot.printMessages(rest, cb);
    });
  },

  printOptions(options) {
    options.forEach(opt => {
      const btn = document.createElement("button");
      btn.className = "text-sm bg-indigo-100 hover:bg-indigo-200 text-indigo-700 px-3 py-1 m-1 rounded";
      btn.textContent = opt.label;
      btn.onclick = () => {
        if (opt.action !== "redirect") {
          const user = document.createElement("div");
          user.className = "text-right text-blue-700 mb-1";
          user.textContent = opt.label;
          bot.container.appendChild(user);
          bot.container.scrollTop = bot.container.scrollHeight;
        }
        if (opt.next) bot.transition(opt.next);
        if (opt.action === "redirect") window.location.href = opt.url;
        if (opt.action === "close") bot.hide();
      };
      bot.container.appendChild(btn);
    });
  },

  transition(state) {
  bot.state = state;
  const step = chatbotFlow[state];
  bot.printMessages(step.message, () => {
    if (step.options) bot.printOptions(step.options);
    if (step.button) {
      const btn = document.createElement("a");
      btn.href = step.button.url;
      btn.textContent = step.button.text;
      btn.className = "inline-block mt-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded";
      bot.container.appendChild(btn);
    }
    if (step.input) {
      const input = document.createElement("input");
      input.placeholder = step.input.placeholder;
      input.className = "w-full border mt-2 rounded px-2 py-0.5 text-sm";
      input.onkeydown = e => {
        if (e.key === "Enter" && input.value.trim() !== "") {
          const val = input.value.trim();
          const isEmail = /\S+@\S+\.\S+/.test(val);
          const isPhone = /^04\d{8}$/.test(val);

          // Check phone number and email format
          if (bot.state === "collect_name") {
            bot.userData.name = val;
            appendUser(val);
            bot.transition(step.input.next);
          } else if (bot.state === "collect_email" || bot.state === "collect_phone") {
            const valid =
              (bot.state === "collect_email" && isEmail) ||
              (bot.state === "collect_phone" && isPhone);

            if (!valid) {
              bot.printMessages(["{{name}} Invalid format. Please re-enter."]);
              return;
            }

            bot.userData.contact = val;
            appendUser(val);
            bot.transition(step.input.next);
          }
        }
      };
      bot.container.appendChild(input);
      input.focus();
    }
  });

    function appendUser(text) {
      const user = document.createElement("div");
      user.className = "text-right text-blue-700 mb-1";
      user.textContent = text;
      bot.container.appendChild(user);
      bot.container.scrollTop = bot.container.scrollHeight;
    }
  },

  show() {
    const popup = document.getElementById("chatbot-popup");
    popup.classList.remove("hidden");
    popup.classList.add("w-96", "h-[500px]");
    bot.container.innerHTML = "";
    bot.transition("start");
  },
  hide() {
    document.getElementById("chatbot-popup").classList.add("hidden");
  }
};

document.getElementById("chatbot-toggle").onclick = bot.show;
document.getElementById("chatbot-close").onclick = bot.hide;
  </script>

{% endblock %}
